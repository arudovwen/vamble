"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[775],{5435:(t,e,a)=>{a.r(e),a.d(e,{default:()=>o});var s=a(1386);const i={data:function(){return{type:"all",message:"",status:null,roomtypes:[],allrooms:[],detail:{name:"",email:"",address:"",gender:"",phone:"",guests:null,room_id:null,flat_type:"",flat_name:"room",checkIn:"",checkOut:"",nights:null,rooms:null,payment_type:null,total_price:0,payment_status:"",status:""},isChecking:!1,rooms:[],showAlert:!1,items:[{id:1,name:"standard",price:3e4,type:"room"},{id:2,name:"executive",price:45e3,type:"room"},{id:3,name:"standard",price:11e4,type:"apartment"},{id:4,name:"executive",price:12e4,type:"apartment"},{id:5,name:"platinum",price:15e4,type:"apartment"}]}},mounted:function(){this.getRooms()},computed:{sorteditems:function(){var t=this;return this.items.filter((function(e){return e.type==t.detail.flat_name}))}},methods:{getRooms:function(){var t=this;axios.get("/room/types").then((function(e){200==e.status&&(t.roomtypes=e.data)}))},getallavailble:function(){var t=this;axios.get("/available/rooms").then((function(e){200==e.status&&(t.allrooms=e.data)}))},handleBooking:function(t,e,a){this.detail.checkIn=this.$moment(e).format("YYYY-MM-DD"),this.detail.checkOut=this.$moment(a).format("YYYY-MM-DD"),this.detail.nights=this.$moment(a).diff(this.$moment(e),"days")},checkAvailability:function(){var t=this;if(!this.detail.checkIn||!this.detail.checkOut)return this.showAlert=!0,void setTimeout((function(){t.showAlert=!1}),2500);this.isChecking=!0,axios.post("/search/room",this.detail).then((function(e){if(200==e.status){t.isChecking=!1,t.rooms=e.data.rooms,t.message=e.data.message,t.status=e.data.status;var a={rooms:e.data.rooms,detail:t.detail};return s.$.$emit("search-room",a),void setTimeout((function(){t.message="",t.status=null}),2500)}})).catch((function(){t.isChecking=!1}))}}};const o=(0,a(1900).Z)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{on:{submit:function(e){return e.preventDefault(),t.checkAvailability.apply(null,arguments)}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.showAlert,expression:"showAlert"}],staticClass:"alert alert-danger alert-dismissible fade show",attrs:{role:"alert"}},[t._m(0),t._v("\n      Ensure Check in and Check out fileds are filled\n    ")]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 mb-4"},[a("div",{attrs:{id:"bookingtool"}},[a("hotel-checker",{on:{"period-selected":t.handleBooking}})],1)]),t._v(" "),a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"form-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.detail.flat_name,expression:"detail.flat_name"}],staticClass:"form-control",attrs:{required:"",name:"flat_name",id:"flat_name"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.detail,"flat_name",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:""}},[t._v("Choose home type")]),t._v(" "),a("option",{attrs:{value:"room"}},[t._v("Room")]),t._v(" "),a("option",{attrs:{value:"apartment"}},[t._v("Apartment")])])])]),t._v(" "),a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"form-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.detail.flat_type,expression:"detail.flat_type"}],staticClass:"form-control text-capitalize",attrs:{name:"room_id",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.detail,"flat_type",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",value:""}},[t._v("Choose option")]),t._v(" "),t._l(t.sorteditems,(function(e){return a("option",{key:e.id,domProps:{value:e.name}},[a("div",{staticClass:"d-flex justify-content-between align-items-center"},[a("span",[a("span",[t._v(t._s(e.name))]),t._v(" "+t._s(e.type))]),t._v("\n                -\n                "),a("span",[t._v(t._s(t._f("currencyFormat")(e.price))+"\n                  "),a("small",[t._v("/ night")])])])])}))],2)])]),t._v(" "),a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"form-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.detail.rooms,expression:"detail.rooms"}],staticClass:"form-control",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.detail,"rooms",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:""},domProps:{value:null}},[t._v("No of rooms")]),t._v(" "),t._l(10,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])}))],2)])]),t._v(" "),a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"form-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.detail.guests,expression:"detail.guests"}],staticClass:"form-control",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.detail,"guests",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:""},domProps:{value:null}},[t._v("No of guests")]),t._v(" "),t._l(5,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])}))],2)])])]),t._v(" "),a("div",{staticClass:"text-center my-2"},[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"submit",disabled:t.isChecking}},[t._v("\n        Search availability\n      ")])])]),t._v(" "),"available"==t.status?a("div",{staticClass:"alert alert-success alert-dismissible fade show",attrs:{role:"alert"}},[t._m(1),t._v(" "),a("strong",[t._v(t._s(t.message))])]):t._e(),t._v(" "),"unavailable"==t.status||"less-available"==t.status?a("div",{staticClass:"alert alert-info alert-dismissible fade show",attrs:{role:"alert"}},[t._m(2),t._v(" "),a("strong",[t._v(t._s(t.message))])]):t._e()])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")]),t._v(" "),a("span",{staticClass:"sr-only"},[t._v("Close")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")]),t._v(" "),a("span",{staticClass:"sr-only"},[t._v("Close")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")]),t._v(" "),a("span",{staticClass:"sr-only"},[t._v("Close")])])}],!1,null,null,null).exports},1900:(t,e,a)=>{function s(t,e,a,s,i,o,n,r){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=a,c._compiled=!0),s&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),n?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(n)},c._ssrRegister=l):i&&(l=r?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}a.d(e,{Z:()=>s})}}]);